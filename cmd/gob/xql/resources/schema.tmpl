-- Code generated by dvo xql. DO NOT EDIT.
-- Generated at: {{ .GeneratedAt.Format "2006-01-02 15:04:05" }} (ver: {{ .Version }})

CREATE TABLE IF NOT EXISTS {{ .TableName }} (
    {{- range $i, $field := .Fields }}
    {{ .Name }} {{ .DBType }}{{ if .IsPK }} PRIMARY KEY{{ end }}{{ if .IsNotNull }} NOT NULL{{ end }}{{ if .IsUnique }} UNIQUE{{ end }}{{ if .Default }} DEFAULT {{ .Default }}{{ end }}{{ if ne (plus1 $i) (len $.Fields) }},{{ end }}
    {{- end }}
);

{{- range .Fields }}
{{- if .IsIndexed }}
CREATE INDEX IF NOT EXISTS idx_{{ $.TableName }}_{{ .Name }} ON {{ $.TableName }} ({{ .Name }});
{{- end }}
{{- end }}
